{"version":3,"file":"single-spa.js","sources":["../../src/applications/app.helper.js","../../src/start.js","../../src/lifecycles/load.js","../../src/lifecycles/bootstrap.js","../../src/lifecycles/mount.js","../../src/lifecycles/unmount.js","../../src/navigations/navigator-event.js","../../src/navigations/reroute.js","../../src/applications/app.js"],"sourcesContent":["export const NOT_LOADED = \"NOT_LOADED\"; // 没有加载过\r\nexport const LOADING_SOURCE_CODE = \"LOADING_SOURCE_CODE\"; // 加载原代码\r\nexport const NOT_BOOTSTRAPPED = \"NOT_BOOTSTRAPPED\"; // 没有启动\r\nexport const BOOTSTRAPPING = \"BOOTSTRAPPING\"; // 启动中\r\nexport const NOT_MOUNTED = \"NOT_MOUNTED\"; // 没有挂载\r\nexport const MOUNTING = \"MOUNTING\"; // 挂载中\r\nexport const MOUNTED = \"MOUNTED\"; // 挂载完毕\r\nexport const UPDATING = \"UPDATING\"; // 更新中\r\nexport const UNMOUNTING = \"UNMOUNTING\"; // 卸载中\r\nexport const UNLOADING = \"UNLOADING\"; // 没有加载中\r\nexport const LOAD_ERROR = \"LOAD_ERROR\"; // 加载失败\r\nexport const SKIP_BECAUSE_BROKEN = \"SKIP_BECAUSE_BROKEN\"; // 运行出错\r\n\r\nexport function isActive(app) {\r\n\t// 当前app是否已经挂载\r\n\treturn app.status === MOUNTED;\r\n}\r\nexport function shouldBeActive(app) {\r\n\t// 当前app是否应该激活\r\n\treturn app.activeWhen(window.location);\r\n}\r\n","import { reroute } from \"./navigations/reroute\";\r\n\r\nexport let started = false;\r\nexport function start() {\r\n\tstarted = true;\r\n\t//挂载应用\r\n\treroute(); //除了去加载应用还需要挂载应用\r\n}\r\n","import {\r\n\tLOADING_SOURCE_CODE,\r\n\tNOT_BOOTSTRAPPED,\r\n} from \"../applications/app.helper\";\r\n\r\nfunction flattenFnArray(fns) {\r\n\tfns = Array.isArray(fns) ? fns : [fns];\r\n\treturn function (props) {\r\n\t\treturn fns.reduce(\r\n\t\t\t(p, fn) => p.then(() => fn(props)),\r\n\t\t\tPromise.resolve()\r\n\t\t);\r\n\t};\r\n}\r\n\r\nexport async function toLoadPromise(app) {\r\n\tif (app.loadPromise) {\r\n\t\treturn app.loadPromise;\r\n\t}\r\n\treturn (app.loadPromise = Promise.resolve().then(async () => {\r\n\t\tapp.status = LOADING_SOURCE_CODE;\r\n\t\tlet { bootstrap, mount, unmount } = await app.loadApp(app.customProps);\r\n\t\tapp.status = NOT_BOOTSTRAPPED;\r\n\r\n\t\tapp.bootstrap = flattenFnArray(bootstrap);\r\n\t\tapp.mount = flattenFnArray(mount);\r\n\t\tapp.unmount = flattenFnArray(unmount);\r\n\t\tdelete app.loadPromise;\r\n\t\treturn app;\r\n\t}));\r\n}\r\n","import {\r\n\tNOT_BOOTSTRAPPED,\r\n\tBOOTSTRAPPING,\r\n\tNOT_MOUNTED,\r\n} from \"../applications/app.helper\";\r\n\r\nexport async function toBootStrapPromise(app) {\r\n\tif (app.status !== NOT_BOOTSTRAPPED) {\r\n\t\treturn app;\r\n\t}\r\n\tapp.status = BOOTSTRAPPING;\r\n\tawait app.bootstrap(app.customProps);\r\n\tapp.status = NOT_MOUNTED;\r\n\treturn app;\r\n}\r\n","import { NOT_MOUNTED, MOUNTING, MOUNTED } from \"../applications/app.helper\";\r\n\r\nexport async function toMountPromise(app) {\r\n\tif (app.status !== NOT_MOUNTED) {\r\n\t\treturn app;\r\n\t}\r\n\tapp.status = MOUNTING;\r\n\tawait app.mount(app.customProps);\r\n\tapp.status = MOUNTED;\r\n\treturn app;\r\n}\r\n","import { MOUNTED, UNMOUNTING, NOT_MOUNTED } from \"../applications/app.helper\";\r\n\r\nexport async function toUnmountPromise(app) {\r\n\tif (app.status !== MOUNTED) {\r\n\t\treturn app;\r\n\t}\r\n\tapp.status = UNMOUNTING;\r\n\tawait app.unmount(app.customProps);\r\n\tapp.status = NOT_MOUNTED;\r\n\treturn app;\r\n}\r\n","import { reroute } from \"./reroute\";\r\n\r\nconst captureEventListener = {\r\n\thashchange: [],\r\n\tpopstate: [],\r\n};\r\n\r\nexport const routingEventsListeningTo = [\"hashchange\", \"popstate\"];\r\nfunction urlReroute() {\r\n\treroute([], arguments);\r\n}\r\n\r\n//挂应用逻辑\r\nwindow.addEventListener(\"hashchange\", urlReroute);\r\nwindow.addEventListener(\"popstate\", urlReroute);\r\n\r\n//应用切换后还需要处理原来的方法，需要在应用切换后再执行。\r\nconst originalAddEventListenter = window.addEventListener;\r\nconst originalRemoveEventListener = window.removeEventListener;\r\n//改写监听方法，把要执行的存起来。\r\nwindow.addEventListener = function (eventName, fn) {\r\n\tif (\r\n\t\troutingEventsListeningTo.indexOf(eventName) >= 0 &&\r\n\t\t!captureEventListener[eventName].some((listener) => listener == fn) //看重复\r\n\t) {\r\n\t\tcaptureEventListener[eventName].push(fn);\r\n\t\treturn;\r\n\t}\r\n\treturn originalAddEventListenter.apply(this, arguments);\r\n};\r\nwindow.removeEventListener = function (eventName, fn) {\r\n\tif (routingEventsListeningTo.indexOf(eventName) >= 0) {\r\n\t\tcaptureEventListener[eventName] = captureEventListener[\r\n\t\t\teventName\r\n\t\t].filter((l) => l !== fn);\r\n\t\treturn;\r\n\t}\r\n\treturn originalRemoveEventListener.apply(this, arguments);\r\n};\r\n\r\n//浏览器路由改写 如果切换不会触发popstate\r\n\r\nfunction patchedUpdateState(updateState, methodName) {\r\n\treturn function () {\r\n\t\tconst urlBefore = window.location.href;\r\n\t\tupdateState.apply(this, arguments); //调用切换\r\n\t\tconst urlAfter = window.location.href;\r\n\t\tif (urlBefore !== urlAfter) {\r\n\t\t\t//重新加载应用，传入事件源\r\n\t\t\turlReroute(new PopStateEvent(\"popstate\"));\r\n\t\t}\r\n\t};\r\n}\r\n\r\nwindow.history.pushState = patchedUpdateState(\r\n\twindow.history.pushState,\r\n\t\"pushState\"\r\n);\r\nwindow.history.replaceState = patchedUpdateState(\r\n\twindow.history.replaceState,\r\n\t\"replaceState\"\r\n);\r\n","import { started } from \"../start\";\r\nimport { getAppChanges } from \"../applications/app\";\r\nimport { toLoadPromise } from \"../lifecycles/load\";\r\nimport { toBootStrapPromise } from \"../lifecycles/bootstrap\";\r\nimport { toMountPromise } from \"../lifecycles/mount\";\r\nimport { toUnmountPromise } from \"../lifecycles/unmount\";\r\nimport \"./navigator-event\";\r\n\r\nexport function reroute() {\r\n\tconst { appsToUnmount, appsToLoad, appstoMount } = getAppChanges();\r\n\tif (started) {\r\n\t\treturn performAppChanges(); //根据路径装载\r\n\t} else {\r\n\t\treturn loadApps(); //预先加载\r\n\t}\r\n\tasync function loadApps() {\r\n\t\tlet apps = await Promise.all(appsToLoad.map(toLoadPromise)); //获取3方法放到app上\r\n\t}\r\n\tasync function performAppChanges() {\r\n\t\t//卸载不需要应用，加载需要应用\r\n\t\tlet unmount = appsToUnmount.map(toUnmountPromise);\r\n\t\tappsToLoad.map(async (app) => {\r\n\t\t\tapp = await toLoadPromise(app);\r\n\t\t\tapp = await toBootStrapPromise(app);\r\n\t\t\treturn toMountPromise(app);\r\n\t\t});\r\n\t\tappstoMount.map(async (app) => {\r\n\t\t\tapp = await toBootStrapPromise(app);\r\n\t\t\treturn toMountPromise(app);\r\n\t\t});\r\n\t}\r\n}\r\n","import {\r\n\tNOT_LOADED,\r\n\tSKIP_BECAUSE_BROKEN,\r\n\tshouldBeActive,\r\n\tLOADING_SOURCE_CODE,\r\n\tNOT_BOOTSTRAPPED,\r\n\tBOOTSTRAPPING,\r\n\tNOT_MOUNTED,\r\n\tMOUNTED,\r\n} from \"./app.helper\";\r\nimport { reroute } from \"../navigations/reroute\";\r\n\r\nconst app = []; //用来存放所有应用\r\n\r\n/**\r\n *\r\n *\r\n * @export\r\n * @param {*} appName 应用名\r\n * @param {*} loadApp 加载的应用\r\n * @param {*} activeWhen 激活时会调用loadApp\r\n * @param {*} customProps 自定义属性\r\n */\r\nexport function registerApplication(appName, loadApp, activeWhen, customProps) {\r\n\tapp.push({\r\n\t\tname: appName,\r\n\t\tloadApp,\r\n\t\tactiveWhen,\r\n\t\tcustomProps,\r\n\t\tstatus: NOT_LOADED,\r\n\t});\r\n\treroute(); //加载应用\r\n}\r\n\r\nexport function getAppChanges() {\r\n\tconst appsToUnmount = [];\r\n\tconst appsToLoad = [];\r\n\tconst appstoMount = [];\r\n\r\n\tapp.forEach((v) => {\r\n\t\tconst appShouldBeActive = shouldBeActive(v);\r\n\t\tswitch (v.status) {\r\n\t\t\tcase NOT_LOADED:\r\n\t\t\tcase LOADING_SOURCE_CODE:\r\n\t\t\t\tif (appShouldBeActive) {\r\n\t\t\t\t\tappsToLoad.push(v);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase NOT_BOOTSTRAPPED:\r\n\t\t\tcase BOOTSTRAPPING:\r\n\t\t\tcase NOT_MOUNTED:\r\n\t\t\t\tif (appShouldBeActive) {\r\n\t\t\t\t\tappstoMount.push(v);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase MOUNTED:\r\n\t\t\t\tif (!appShouldBeActive) {\r\n\t\t\t\t\tappsToUnmount.push(v);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t});\r\n\treturn {\r\n\t\tappsToUnmount,\r\n\t\tappsToLoad,\r\n\t\tappstoMount,\r\n\t};\r\n}\r\n"],"names":[],"mappings":"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"}